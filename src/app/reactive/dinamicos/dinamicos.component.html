<h2>Reactivos: <small>Dinámicos</small></h2>
<hr>

<form autocomplete="off" (ngSubmit)="guardar()" [formGroup]="miFormulario">

  <!-- campo nombre -->
  <div class="row mb-3">
    <label for="nombre" class="col-sm-3 col-form-label">Nombre</label>
    <div class="col-sm-9">
      <input type="text" class="form-control" placeholder="Nombre de la persona" formControlName="nombre">
      <span *ngIf="campoNoValido('nombre')" class="form-text text-danger">Campo obligatorio y debe tener 3 o más
        caracteres</span>
    </div>
  </div>

  <!-- campo agregar -->
  <div class="row mb-3">
    <label for="nombre" class="col-sm-3 col-form-label">Agregar</label>
    <div class="col-sm-9">

      <div class="input-group">
        <input type="text" class="form-control" placeholder="Agregar favorito" name="favorito"
          [formControl]="nuevoFavorito" (keyup.enter)="agregarFavorito()">
        <button class="btn btn-outline-primary" (click)="agregarFavorito()" type="button">Agregar</button>
      </div>

    </div>
  </div>

  <!-- campo lista de juegos favoritos -->
  <div class="row mb-3">
    <label for="nombre" class="col-sm-3 col-form-label">Favoritos</label>

    <div class="col-sm-9" formArrayName="favoritos">
      <div class="input-group mb-1" *ngFor="let favorito of favoritosArr.controls; let i = index">
        <input type="text" class="form-control" [formControlName]="i">
        <button class="btn btn-outline-danger" type="button">Eliminar</button>
      </div>
    </div>

  </div>

  <div class="row">
    <div class="col-sm-12">
      <button type="submit" [disabled]="miFormulario.invalid" class="btn btn-primary float-end">Guardar</button>
    </div>
  </div>

</form>

<br>
<br>
<span>Value</span>
<pre>{{ miFormulario.value | json }}</pre>
<br>
<span>Valid</span>
<pre>{{ miFormulario.valid }}</pre>
<br>
<span>Agregar Juego</span>
<pre>{{ nuevoFavorito.valid }}</pre>
<pre>{{ nuevoFavorito.value }}</pre>
